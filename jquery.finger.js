!function(e,t){function a(t){t.preventDefault(),e.event.remove(T,"click",a)}function n(e,t){return(p?t.originalEvent.touches[0]:t)["page"+e.toUpperCase()]}function r(t,n,r){var o=e.Event(n,b);e.event.trigger(o,{originalEvent:t},t.target),o.isDefaultPrevented()&&(~n.indexOf("tap")&&!p?e.event.add(T,"click",a):t.preventDefault()),r&&(e.event.remove(T,y+"."+D,i),e.event.remove(T,x+"."+D,d))}function o(t){var o=t.timeStamp||+new Date;l!=o&&(l=o,k.x=b.x=n("x",t),k.y=b.y=n("y",t),k.time=o,k.target=t.target,b.orientation=null,b.end=!1,u=!1,c=!1,v=setTimeout(function(){c=!0,r(t,"press")},w.pressDuration),e.event.add(T,y+"."+D,i),e.event.add(T,x+"."+D,d),w.preventDefault&&(t.preventDefault(),e.event.add(T,"click",a)))}function i(t){if(b.x=n("x",t),b.y=n("y",t),b.dx=b.x-k.x,b.dy=b.y-k.y,b.adx=Math.abs(b.dx),b.ady=Math.abs(b.dy),u=b.adx>w.motionThreshold||b.ady>w.motionThreshold){for(clearTimeout(v),b.orientation||(b.adx>b.ady?(b.orientation="horizontal",b.direction=b.dx>0?1:-1):(b.orientation="vertical",b.direction=b.dy>0?1:-1));t.target&&t.target!==k.target;)t.target=t.target.parentNode;return t.target!==k.target?(t.target=k.target,void d.call(this,e.Event(x+"."+D,t))):void r(t,"drag")}}function d(e){var t,a=e.timeStamp||+new Date,n=a-k.time;if(clearTimeout(v),u||c||e.target!==k.target)e.target=k.target,n<w.flickDuration&&r(e,"flick"),b.end=!0,t="drag";else{var o=g===e.target&&a-s<w.doubleTapInterval;t=o?"doubletap":"tap",g=o?null:k.target,s=a}r(e,t,!0)}var u,c,l,v,g,s,f=/chrome/i.exec(t),m=/android/i.exec(t),p="ontouchstart"in window&&!(f&&!m),h=p?"touchstart":"mousedown",x=p?"touchend touchcancel":"mouseup mouseleave",y=p?"touchmove":"mousemove",D="finger",T=e("html")[0],k={},b={},w=e.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5};e.event.add(T,h+"."+D,o),e.each("tap doubletap press drag flick".split(" "),function(t,a){e.fn[a]=function(e){return e?this.on(a,e):this.trigger(a)}})}(jQuery,navigator.userAgent);
