if("undefined"==typeof scramblers)var scramblers={};scramblers.sq1=function(){function r(){}function t(r,t){r.ul=t.ul,r.ur=t.ur,r.dl=t.dl,r.dr=t.dr,r.ml=t.ml}function e(r,t){var e;t<<=2,t>24?(t=48-t,e=r.ul,r.ul=16777215&(~~r.ul>>t|r.ur<<24-t),r.ur=16777215&(~~r.ur>>t|e<<24-t)):t>0?(e=r.ul,r.ul=16777215&(r.ul<<t|~~r.ur>>24-t),r.ur=16777215&(r.ur<<t|~~e>>24-t)):0==t?(e=r.ur,r.ur=r.dl,r.dl=e,r.ml=1-r.ml):t>=-24?(t=-t,e=r.dl,r.dl=16777215&(r.dl<<t|~~r.dr>>24-t),r.dr=16777215&(r.dr<<t|~~e>>24-t)):-24>t&&(t=48+t,e=r.dl,r.dl=16777215&(~~r.dl>>t|r.dr<<24-t),r.dr=16777215&(~~r.dr>>t|e<<24-t))}function o(r){var t,e,o,n,a;for(o=0,r.arr[0]=c(r,0),n=1;24>n;++n)c(r,n)!=r.arr[o]&&(r.arr[++o]=c(r,n));for(a=0,t=0;16>t;++t)for(e=t+1;16>e;++e)r.arr[t]>r.arr[e]&&(a^=1);return a}function n(r){var t,e,n,a;return a=1118481&r.ur,a|=~~a>>3,a|=~~a>>6,a=15&a|~~a>>12&48,n=1118481&r.ul,n|=~~n>>3,n|=~~n>>6,n=15&n|~~n>>12&48,e=1118481&r.dr,e|=~~e>>3,e|=~~e>>6,e=15&e|~~e>>12&48,t=1118481&r.dl,t|=~~t>>3,t|=~~t>>6,t=15&t|~~t>>12&48,w(o(r)<<24|n<<18|a<<12|t<<6|e)}function a(r,t){var e,o;for(e=0;8>e;++e)r.prm[e]=~~(~~c(r,3*e+1)>>1<<24)>>24;for(t.cornperm=R(r.prm),t.topEdgeFirst=c(r,0)==c(r,1),e=t.topEdgeFirst?2:0,o=0;4>o;e+=3,++o)r.prm[o]=~~(~~c(r,e)>>1<<24)>>24;for(t.botEdgeFirst=c(r,12)==c(r,13),e=t.botEdgeFirst?14:12;8>o;e+=3,++o)r.prm[o]=~~(~~c(r,e)>>1<<24)>>24;t.edgeperm=R(r.prm),t.ml=r.ml}function c(r,t){var e;return e=6>t?~~r.ul>>(5-t<<2):12>t?~~r.ur>>(11-t<<2):18>t?~~r.dl>>(17-t<<2):~~r.dr>>(23-t<<2),~~((15&e)<<24)>>24}function i(r,t,e){6>t?(r.ul&=~(15<<(5-t<<2)),r.ul|=e<<(5-t<<2)):12>t?(r.ur&=~(15<<(11-t<<2)),r.ur|=e<<(11-t<<2)):18>t?(r.dl&=~(15<<(17-t<<2)),r.dl|=e<<(17-t<<2)):(r.dr&=~(15<<(23-t<<2)),r.dr|=e<<(23-t<<2))}function u(){this.arr=[],this.prm=[]}function f(){var r,t,e,o,n,a,c,f,h;for(r=new u,e=H[~~(3678*$.random())],n=324508639,o=38177486,c=a=8,t=0;24>t;t++)0==(e>>t&1)?(f=~~($.random()*a)<<2,i(r,23-t,o>>f&15),h=(1<<f)-1,o=(o&h)+(o>>4&~h),--a):(f=~~($.random()*c)<<2,i(r,23-t,n>>f&15),i(r,22-t,n>>f&15),h=(1<<f)-1,n=(n&h)+(n>>4&~h),--c,++t);return r.ml=~~(2*$.random()),r}function h(){}function l(r){var o,n,c,i,u,f;for(t(r.Search_d,r.Search_c),c=0;c<r.Search_length1;++c)e(r.Search_d,r.Search_move[c]);for(a(r.Search_d,r.Search_sq),n=r.Search_sq.edgeperm,o=r.Search_sq.cornperm,u=r.Search_sq.ml,f=Math.max(U[r.Search_sq.edgeperm<<1|u],U[r.Search_sq.cornperm<<1|u]),c=f;c<r.Search_maxlen2;++c)if(d(r,n,o,r.Search_sq.topEdgeFirst,r.Search_sq.botEdgeFirst,u,c,r.Search_length1,0)){for(i=0;c>i;++i)e(r.Search_d,r.Search_move[r.Search_length1+i]);return r.Search_sol_string=p(r,c+r.Search_length1),!0}return!1}function p(r,t){for(var e="",o=0,n=0,a=t-1;a>=0;a--){var c=r.Search_move[a];c>0?(c=12-c,o=c>6?c-12:c):0>c?(c=12+c,n=c>6?c-12:c):(e+=0==o&&0==n?" / ":"("+o+", "+n+") / ",o=n=0)}return 0==o&&0==n||(e+="("+o+", "+n+")"),e}function m(r,t,e,o,n,a){var c,i,u;if(0==e&&4>o)return 0==o&&l(r);if(0!=a&&(u=N[t],i=J[u],o>i&&(r.Search_move[n]=0,m(r,u,i,o-1,n+1,0))))return!0;if(u=t,0>=a)for(c=0;;){if(c+=K[u],u=~~c>>4,c&=15,c>=12)break;if(i=J[u],i>o)break;if(o>i&&(r.Search_move[n]=c,m(r,u,i,o-1,n+1,1)))return!0}if(u=t,1>=a)for(c=0;;){if(c+=G[u],u=~~c>>4,c&=15,c>=6)break;if(i=J[u],i>o)break;if(o>i&&(r.Search_move[n]=-c,m(r,u,i,o-1,n+1,2)))return!0}return!1}function d(r,t,e,o,n,a,c,i,u){var f,h,l,_,p,m,v;if(0==c&&!o&&n)return!0;if(0!=u&&o==n&&(l=W[t],h=W[e],U[l<<1|1-a]<c&&U[h<<1|1-a]<c&&(r.Search_move[i]=0,d(r,l,h,o,n,1-a,c-1,i+1,0))))return!0;if(0>=u)for(v=!o,l=v?V[t]:t,h=v?e:V[e],_=v?1:2,p=U[l<<1|a],m=U[h<<1|a];12>_&&c>=p&&c>=p;){if(c>p&&c>m&&(r.Search_move[i]=_,d(r,l,h,v,n,a,c-1,i+1,1)))return!0;v=!v,v?(l=V[l],p=U[l<<1|a],_+=1):(h=V[h],m=U[h<<1|a],_+=2)}if(1>=u)for(f=!n,l=f?Q[t]:t,h=f?e:Q[e],_=f?1:2,p=U[l<<1|a],m=U[h<<1|a];(c>3?6:12)>_&&c>=p&&c>=p;){if(c>p&&c>m&&(r.Search_move[i]=-_,d(r,l,h,o,f,a,c-1,i+1,2)))return!0;f=!f,f?(l=Q[l],p=U[l<<1|a],_+=1):(h=Q[h],m=U[h<<1|a],_+=2)}return!1}function v(r,t){var e;for(r.Search_c=t,e=n(t),r.Search_length1=J[e];r.Search_length1<100&&(r.Search_maxlen2=Math.min(31-r.Search_length1,17),!m(r,e,J[e],r.Search_length1,0,-1));++r.Search_length1);return r.Search_sol_string}function S(){this.Search_move=[],this.Search_d=new u,this.Search_sq=new k}function s(){}function g(){g=r,O=[0,3,6,12,15,24,27,30,48,51,54,60,63],H=[],J=[],K=[],G=[],N=[],q()}function x(r){var t,e;t=0,e=0;do 0==(2048&r.bottom)?(t+=1,r.bottom=r.bottom<<1):(t+=2,r.bottom=r.bottom<<2^12291),e=1-e;while(0!=(1&D(63&r.bottom)));return 0==(2&D(r.bottom))&&(r.Shape_parity^=e),t}function b(r){var t;return t=L(H,r.top<<12|r.bottom)<<1|r.Shape_parity}function F(r,t){r.Shape_parity=1&t,r.top=H[~~t>>1],r.bottom=4095&r.top,r.top>>=12}function y(r){var t,e;t=0,e=0;do 0==(2048&r.top)?(t+=1,r.top=r.top<<1):(t+=2,r.top=r.top<<2^12291),e=1-e;while(0!=(1&D(63&r.top)));return 0==(2&D(r.top))&&(r.Shape_parity^=e),t}function A(){}function w(r){var t;return t=L(H,16777215&r)<<1|~~r>>24}function q(){var r,t,e,o,n,a,c,i,u,f,h,l,_,p,m,d;for(r=0,c=0;28561>c;++c)a=O[c%13],e=O[~~(c/13)%13],l=O[~~(~~(c/13)/13)%13],h=O[~~(~~(~~(c/13)/13)/13)],_=h<<18|l<<12|e<<6|a,16==D(_)&&(H[r++]=_);for(f=new A,c=0;7356>c;++c)F(f,c),K[c]=y(f),K[c]|=b(f)<<4,F(f,c),G[c]=x(f),G[c]|=b(f)<<4,F(f,c),d=63&f.top,p=D(d),m=D(4032&f.bottom),f.Shape_parity^=1&~~(p&m)>>1,f.top=4032&f.top|~~f.bottom>>6&63,f.bottom=63&f.bottom|d<<6,N[c]=b(f);for(c=0;7536>c;++c)J[c]=-1;for(J[w(14378715)]=0,J[w(31157686)]=0,J[w(23967451)]=0,J[w(7191990)]=0,o=4,n=0,t=-1;o!=n;)for(n=o,++t,c=0;7536>c;++c)if(J[c]==t){u=0,i=c;do i=K[i],u+=15&i,i>>=4,-1==J[i]&&(++o,J[i]=t+1);while(12!=u);u=0,i=c;do i=G[i],u+=15&i,i>>=4,-1==J[i]&&(++o,J[i]=t+1);while(12!=u);i=N[c],-1==J[i]&&(++o,J[i]=t+1)}}function M(){}function E(){E=r,U=[],W=[],V=[],Q=[],X=[1,1,2,6,24,120,720,5040],T=[];for(var t=0;12>t;++t)T[t]=[];z()}function k(){}function R(r){var t,e,o,n;for(e=0,n=1985229328,t=0;7>t;++t)o=r[t]<<2,e=(8-t)*e+(~~n>>o&7),n-=286331152<<o;return 65535&e}function z(){var r,t,e,o,n,a,c,i,u,f,h,l,_;for(n=0;12>n;++n)for(T[n][0]=1,T[n][n]=1,u=1;n>u;++u)T[n][u]=T[n-1][u-1]+T[n-1][u];for(l=[],n=0;40320>n;++n)P(l,n),_=l[2],l[2]=l[4],l[4]=_,_=l[3],l[3]=l[5],l[5]=_,W[n]=R(l),P(l,n),_=l[0],l[0]=l[1],l[1]=l[2],l[2]=l[3],l[3]=_,V[n]=R(l),P(l,n),_=l[4],l[4]=l[5],l[5]=l[6],l[6]=l[7],l[7]=_,Q[n]=R(l);for(n=0;80640>n;++n)U[n]=-1;for(U[0]=0,t=0,e=1;80640>e;){i=t>=11,o=i?-1:t,r=i?t:-1,++t;r:for(n=0;80640>n;++n)if(U[n]==o){if(a=~~n>>1,h=1&n,c=W[a]<<1|1-h,U[c]==r&&(++e,U[i?n:c]=~~(t<<24)>>24,i))continue r;for(c=a,f=0;4>f;++f)if(c=V[c],U[c<<1|h]==r&&(++e,U[i?n:c<<1|h]=~~(t<<24)>>24,i))continue r;for(f=0;4>f;++f)if(c=Q[c],U[c<<1|h]==r&&(++e,U[i?n:c<<1|h]=~~(t<<24)>>24,i))continue r}}}function P(r,t){var e,o,n,a,c;for(c=1985229328,e=0;7>e;++e)n=X[7-e],a=~~(t/n),t-=a*n,a<<=2,r[e]=~~((~~c>>a&7)<<24)>>24,o=(1<<a)-1,c=(c&o)+(~~c>>4&~o);r[7]=~~(c<<24)>>24}function I(){}function D(r){return r-=~~r>>1&1431655765,r=(~~r>>2&858993459)+(858993459&r),r=(~~r>>4)+r&252645135,r+=~~r>>8,r+=~~r>>16,63&r}function L(r,t){var e,o,n,a;for(o=0,e=r.length-1;e>=o;)if(n=o+(~~(e-o)>>1),a=r[n],t>a)o=n+1;else{if(!(a>t))return n;e=n-1}return-o-1}function j(r){return"r"===r?"#FF0000":"o"===r?"#FF8000":"b"===r?"#0000FF":"g"===r?"#00FF00":"y"===r?"#FFFF00":"w"===r?"#FFFFFF":"x"===r?"#000000":void 0}function B(r,t,e,o,n,a){for(var c="",i=0;i<n.length;i++){var u=nt(e,o,[n[i],a[i]]);c+=(0===i?"M":"L")+u[0]+","+u[1]}c+="z",r.path(c).attr({fill:j(t),stroke:"#000"})}function C(r,t,e,o,n,a,c){function i(r){return Math.cos(b[r])*g}function u(r){return Math.sin(b[r])*g}function f(r){return Math.cos(F[r])*g}function h(r){return Math.sin(F[r])*g}for(var l,_,p=1.366,m=Raphael(o,n,a),d=1,v=15/p,S=50,s=50,g=(S-d-v*p)/p,x=(v+g)/g,b=[0,0,0,0,0,0,0,0,0,0,0,0,0],F=[0,0,0,0,0,0,0,0,0,0,0,0,0],y=0;24>y;y++)b[y]=(17-2*y)/12*Math.PI,e=e.concat("xxxxxxxxxxxxxxxx");for(var y=0;24>y;y++)F[y]=(19-2*y)/12*Math.PI,e=e.concat("xxxxxxxxxxxxxxxx");var A=u(1)*x*p-u(1)*p;t?(l=[S+i(1)*x*p,S+i(4)*x*p,S+i(7)*x*p,S+i(10)*x*p],_=[s-u(1)*x*p,s-u(4)*x*p,s-u(7)*x*p,s-u(10)*x*p],B(m,"x",n,a,l,_),s+=10,l=[S+i(0)*x,S+i(0)*x,S+i(1)*x*p,S+i(1)*x*p],_=[s-u(1)*x*p,s-u(1)*p,s-u(1)*p,s-u(1)*x*p,s-u(1)*x*p],B(m,c[5],n,a,l,_),l=[S+i(0)*x,S+i(0)*x,S+i(10)*x*p,S+i(10)*x*p],_=[s-u(1)*x*p,s-u(1)*p,s-u(1)*p,s-u(1)*x*p,s-u(1)*x*p],B(m,c[5],n,a,l,_),s-=10):(l=[S+i(1)*x*p,S+i(4)*x*p,S+i(6)*x,S+i(9)*x*p,S+i(11)*x*p,S+i(0)*x],_=[s-u(1)*x*p,s-u(4)*x*p,s-u(6)*x,s+u(9)*x*p,s-u(11)*x*p,s-u(0)*x],B(m,"x",n,a,l,_),l=[S+i(9)*x*p,S+i(11)*x*p,S+i(11)*x*p,S+i(9)*x*p],_=[s+u(9)*x*p-A,s-u(11)*x*p-A,s-u(11)*x*p,s+u(9)*x*p],B(m,c[4],n,a,l,_),s+=10,l=[S+i(0)*x,S+i(0)*x,S+i(1)*x*p,S+i(1)*x*p],_=[s-u(1)*x*p,s-u(1)*p,s-u(1)*p,s-u(1)*x*p],B(m,c[5],n,a,l,_),l=[S+i(0)*x,S+i(0)*x,S+i(11)*x*p,S+i(11)*x*p],_=[s-u(1)*x*p,s-u(1)*p,s-u(11)*x*p+A,s-u(11)*x*p],B(m,c[2],n,a,l,_),s-=10);for(var w=0,y=0;12>w;y++)e.length<=y&&(w=12),"x"===e.charAt(y)&&w++,"c"===e.charAt(y)&&(l=[S,S+i(w),S+i(w+1)*p,S+i(w+2)],_=[s,s-u(w),s-u(w+1)*p,s-u(w+2)],B(m,r.charAt(y),n,a,l,_),l=[S+i(w),S+i(w+1)*p,S+i(w+1)*x*p,S+i(w)*x],_=[s-u(w),s-u(w+1)*p,s-u(w+1)*x*p,s-u(w)*x],B(m,r.charAt(16+w),n,a,l,_),l=[S+i(w+2),S+i(w+1)*p,S+i(w+1)*x*p,S+i(w+2)*x],_=[s-u(w+2),s-u(w+1)*p,s-u(w+1)*x*p,s-u(w+2)*x],B(m,r.charAt(17+w),n,a,l,_),w+=2),"e"===e.charAt(y)&&(l=[S,S+i(w),S+i(w+1)],_=[s,s-u(w),s-u(w+1)],B(m,r.charAt(y),n,a,l,_),l=[S+i(w),S+i(w+1),S+i(w+1)*x,S+i(w)*x],_=[s-u(w),s-u(w+1),s-u(w+1)*x,s-u(w)*x],B(m,r.charAt(16+w),n,a,l,_),w+=1);S+=100,s+=10;var A=u(1)*x*p-u(1)*p;t?(l=[S+i(1)*x*p,S+i(4)*x*p,S+i(7)*x*p,S+i(10)*x*p],_=[s+u(1)*x*p,s+u(4)*x*p,s+u(7)*x*p,s+u(10)*x*p],B(m,"x",n,a,l,_),s-=10,l=[S+i(0)*x,S+i(0)*x,S+i(1)*x*p,S+i(1)*x*p],_=[s+u(1)*x*p,s+u(1)*p,s+u(1)*p,s+u(1)*x*p,s+u(1)*x*p],B(m,c[5],n,a,l,_),l=[S+i(0)*x,S+i(0)*x,S+i(10)*x*p,S+i(10)*x*p],_=[s+u(1)*x*p,s+u(1)*p,s+u(1)*p,s+u(1)*x*p,s+u(1)*x*p],B(m,c[5],n,a,l,_),s+=10):(l=[S+i(1)*x*p,S+i(4)*x*p,S+i(6)*x,S+i(9)*x*p,S+i(11)*x*p,S+i(0)*x],_=[s+u(1)*x*p,s+u(4)*x*p,s+u(6)*x,s-u(9)*x*p,s+u(11)*x*p,s+u(0)*x],B(m,"x",n,a,l,_),l=[S+i(9)*x*p,S+i(11)*x*p,S+i(11)*x*p,S+i(9)*x*p],_=[s-u(9)*x*p+A,s+u(11)*x*p+A,s+u(11)*x*p,s-u(9)*x*p],B(m,c[4],n,a,l,_),s-=10,l=[S+i(0)*x,S+i(0)*x,S+i(1)*x*p,S+i(1)*x*p],_=[s+u(1)*x*p,s+u(1)*p,s+u(1)*p,s+u(1)*x*p],B(m,c[5],n,a,l,_),l=[S+i(0)*x,S+i(0)*x,S+i(11)*x*p,S+i(11)*x*p],_=[s+u(1)*x*p,s+u(1)*p,s+u(11)*x*p-A,s+u(11)*x*p],B(m,c[2],n,a,l,_),s+=10);var w=0;for(w=0;12>w;y++)e.length<=y&&(w=12),"x"===e.charAt(y)&&w++,"c"===e.charAt(y)&&(l=[S,S+f(w),S+f(w+1)*p,S+f(w+2)],_=[s,s-h(w),s-h(w+1)*p,s-h(w+2)],B(m,r.charAt(y),n,a,l,_),l=[S+f(w),S+f(w+1)*p,S+f(w+1)*x*p,S+f(w)*x],_=[s-h(w),s-h(w+1)*p,s-h(w+1)*x*p,s-h(w)*x],B(m,r.charAt(28+w),n,a,l,_),l=[S+f(w+2),S+f(w+1)*p,S+f(w+1)*x*p,S+f(w+2)*x],_=[s-h(w+2),s-h(w+1)*p,s-h(w+1)*x*p,s-h(w+2)*x],B(m,r.charAt(29+w),n,a,l,_),w+=2),"e"===e.charAt(y)&&(l=[S,S+f(w),S+f(w+1)],_=[s,s-h(w),s-h(w+1)],B(m,r.charAt(y),n,a,l,_),l=[S+f(w),S+f(w+1),S+f(w+1)*x,S+f(w)*x],_=[s-h(w),s-h(w+1),s-h(w+1)*x,s-h(w)*x],B(m,r.charAt(28+w),n,a,l,_),w+=1)}_=u.prototype=h.prototype,_.dl=10062778,_.dr=14536702,_.ml=0,_.ul=70195,_.ur=4544119;_=S.prototype=s.prototype,_.Search_c=null,_.Search_length1=0,_.Search_maxlen2=0,_.Search_sol_string=null,_=A.prototype=M.prototype,_.bottom=0,_.Shape_parity=0,_.top=0;var G,H,J,K,N,O;_=k.prototype=I.prototype,_.botEdgeFirst=!1,_.cornperm=0,_.edgeperm=0,_.ml=0,_.topEdgeFirst=!1;var Q,T,U,V,W,X,Y=!1,Z=function(r,t,e){rt(t),Y||(g(),E()),e&&e("Done initializing Square-1."),Y=!0,null!=r&&r()},$=void 0,rt=function(r){$=r},tt=function(){return Y||Z(),f()},et=function(r){var t=new S;return v(t,r)},ot=function(){var r=tt(),t=et(r);return{state:r,scramble_string:t}},nt=function(r,t,e){var o=200,n=110,a=Math.min(r/o,t/n),c=e[0]*a+(r-o*a)/2,i=e[1]*a+(t-n*a)/2;return[c,i]},at=function(r){for(var t=[],e=0,o=0;o<r.length;o++)(0===o||r[o]!=r[o-1])&&(t[e++]=r[o]);return t},ct=function(r,t,e,o){for(var n,a,i,u,f,h=(t.arr,"yobwrg"),l=0==t.ml,n=[],_=[5,4,3,2,1,0,11,10,9,8,7,6,17,16,15,14,13,12,23,22,21,20,19,18],p=0;p<_.length;p++)n.push(c(t,_[p]));var a=["3","3","3","3","3","3","3","3","0","0","0","0","0","0","0","0"];i=["e","c","e","c","e","c","e","c","e","c","e","c","e","c","e","c"],u=["2","12","1","51","5","45","4","24","4","42","5","54","1","15","2","21"];for(var m=at(n.slice(0,12)),d=at(n.slice(18,24).concat(n.slice(12,18))),f=m.concat(d),v="",S="",s="",g="_",p=0;16>p;p++)v+=i[f[p]],g=f[p],S+=a[f[p]],s+=u[f[p]];var x=S.concat(s).replace(/0/g,h[0]).replace(/1/g,h[1]).replace(/2/g,h[2]).replace(/3/g,h[3]).replace(/4/g,h[4]).replace(/5/g,h[5]);C(x,l,v,r,e,o,h)};return{version:"May 17, 2012",initialize:Z,setRandomSource:rt,getRandomScramble:ot,drawScramble:ct,getRandomPosition:tt,generate:et}}();
